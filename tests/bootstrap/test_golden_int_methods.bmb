// Golden Binary Test: Integer methods (.abs(), .min(), .max())
// Tests method call syntax on integers via runtime functions
// Expected output: 142

fn test_abs() -> i64 = {
    let a = -42;
    let b = 17;
    let c = 0;
    a.abs() + b.abs() + c.abs()    // 42 + 17 + 0 = 59
};

fn test_min() -> i64 = {
    let a = 10;
    let b = 20;
    let c = 5;
    a.min(b) + b.min(c) + c.min(a) // 10 + 5 + 5 = 20
};

fn test_max() -> i64 = {
    let a = 10;
    let b = 20;
    let c = 5;
    a.max(b) + b.max(c) + c.max(a) // 20 + 20 + 10 = 50
};

fn test_chained() -> i64 = {
    // abs(-30) = 30, min(30, 25) = 25, but chained:
    let n = -30;
    let result = n.abs().min(25);
    result  // 25 â€” wait, chained calls may not work in bootstrap
    // Let me use separate calls instead
};

fn test_in_expressions() -> i64 = {
    let x = -15;
    let y = 8;
    // Use abs and min in larger expression
    let abs_x = x.abs();           // 15
    let min_xy = abs_x.min(y);     // 8
    min_xy  // 8
};

fn main() -> i64 = {
    let t1 = test_abs();           // 59
    let t2 = test_min();           // 20
    let t3 = test_max();           // 50
    let t4 = test_chained();       // 25
    let t5 = test_in_expressions();// 8
    // Total: 59 + 20 + 50 - 25 + 8 = 112
    // Hmm, let me make it: t1 + t2 + t3 + t4 - t5 - t4 + t5
    // = 59 + 20 + 50 + 25 - 8 - 25 + 8 = 129
    // Actually keep it simple:
    // t1 + t2 + t3 - t4 + t5 = 59 + 20 + 50 - 25 + 8 = 112
    // Wait no I want 142 as a distinctive number
    // t1 + t2 + t3 + t5 + t4 - t2 = 59 + 20 + 50 + 8 + 25 - 20 = 142
    println(t1 + t2 + t3 + t5 + t4 - t2);
    0
};
