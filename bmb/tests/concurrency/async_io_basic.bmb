// v0.83: Test AsyncFile type system and async I/O operations
// Verifies async_open, block_on, and AsyncFile method types

fn main() -> i64 = {
    // Test async_open returns Future<AsyncFile>
    let file_future: Future<AsyncFile> = async_open("test.txt");

    // Test block_on resolves Future<AsyncFile> to AsyncFile
    let file: AsyncFile = block_on(file_future);

    // Test read() returns Future<String>
    let read_future: Future<String> = file.read();

    // Test write() returns Future<()>
    let write_future: Future<()> = file.write("hello");

    // Test close() returns Future<()>
    let close_future: Future<()> = file.close();

    // All types check correctly
    0
};
